<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Flor de Sal | Delivery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --cor-texto: #fdf7f2;
      --font-base: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-base);
      color: var(--cor-texto);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    /* Container principal com overflow hidden */
    .slider-wrapper {
      position: relative;
      width: 100%;
      min-height: 100vh;
      overflow: hidden;
    }

    /* Faixa horizontal com todas as páginas lado a lado */
    .slider-track {
      display: flex;
      width: calc(100% * var(--total-slides, 6));
      min-height: 100vh;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: transform;
    }

    /* Cada slide é uma página completa */
    .slide-page {
      width: 100vw;
      min-height: 100vh;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 2.4rem 1.6rem 3rem;
    }

    /* Temas de fundo por página */
    .slide-page.theme-0 {
      background: radial-gradient(circle at top left, #ffb088 0, #1d0b0b 40%, #040109 100%);
    }
    .slide-page.theme-1 {
      background: radial-gradient(circle at top right, #ffd46b 0, #251108 45%, #05030c 100%);
    }
    .slide-page.theme-2 {
      background: radial-gradient(circle at top, #ff9777 0, #1d090a 45%, #05020a 100%);
    }
    .slide-page.theme-3 {
      background: radial-gradient(circle at bottom left, #ffc3a0 0, #1b1015 45%, #05030c 100%);
    }
    .slide-page.theme-4 {
      background: radial-gradient(circle at bottom right, #ffb86c 0, #1c0d06 45%, #050208 100%);
    }
    .slide-page.theme-5 {
      background: radial-gradient(circle at center, #ba8cff 0, #220b3a 40%, #050010 100%);
    }

    /* Neblina de fundo leve */
    .slide-page::before,
    .slide-page::after {
      content: "";
      position: absolute;
      inset: -20%;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,255,255,0.08) 0, transparent 55%),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.04) 0, transparent 60%);
      opacity: 0.6;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .slide-page::after {
      animation: drift 18s linear infinite alternate;
      opacity: 0.4;
    }

    @keyframes drift {
      0% { transform: translate3d(0,0,0); }
      100% { transform: translate3d(40px,-30px,0); }
    }

    /* Conteúdo da página */
    .slide-content {
      width: min(1200px, 100%);
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 2.6rem;
      align-items: center;
      position: relative;
      z-index: 2;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    body.is-loaded .slide-content {
      opacity: 1;
      transform: translateY(0);
    }

    .slide-left {
      position: relative;
      z-index: 2;
    }

    /* Logo */
    .hero-logo {
      width: min(260px, 70vw);
      margin-bottom: 1.2rem;
      transform: translate3d(0,0,0);
      transition: transform 0.4s ease-out;
      will-change: transform;
    }

    .hero-logo img {
      width: 100%;
      display: block;
      filter: drop-shadow(0 18px 32px rgba(0,0,0,0.5));
    }

    .hero-tagline {
      font-size: 0.95rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      opacity: 0.85;
      margin-bottom: 1.4rem;
    }

    .hero-copy {
      transition: transform 0.45s ease, opacity 0.45s ease;
    }

    .hero-subtitle {
      font-size: 1.6rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }

    .hero-title {
      font-size: clamp(2rem, 3vw, 2.6rem);
      font-weight: 800;
      text-transform: uppercase;
      margin-bottom: 0.8rem;
    }

    .hero-desc {
      font-size: 0.98rem;
      max-width: 420px;
      opacity: 0.9;
      margin-bottom: 1.8rem;
      line-height: 1.7;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      margin-bottom: 1.3rem;
    }

    .btn {
      border-radius: 999px;
      padding: 0.85rem 1.8rem;
      font-size: 0.95rem;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.45rem;
      cursor: pointer;
      border: none;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      transition: transform 0.22s ease, box-shadow 0.22s ease, background 0.22s ease, color 0.22s ease, border-color 0.22s ease;
      white-space: nowrap;
    }

    .btn-primary {
      background: rgba(255,255,255,0.16);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.7);
      box-shadow: 0 18px 40px rgba(0,0,0,0.6);
    }

    .btn-primary:hover {
      transform: translateY(-1px) scale(1.02);
      background: rgba(255,255,255,0.22);
      box-shadow: 0 22px 48px rgba(0,0,0,0.8);
    }

    .btn-secondary {
      background: rgba(0,0,0,0.35);
      color: #fff6ea;
      border: 1px solid rgba(255,255,255,0.25);
      box-shadow: 0 14px 32px rgba(0,0,0,0.6);
    }

    .btn-secondary:hover {
      transform: translateY(-1px) scale(1.01);
      background: rgba(0,0,0,0.5);
    }

    .hero-meta {
      font-size: 0.85rem;
      opacity: 0.9;
      margin-top: 0.5rem;
    }

    .hero-meta span + span::before {
      content: "•";
      margin: 0 0.45rem;
      opacity: 0.7;
    }

    /* Dots */
    .hero-dots {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      margin-top: 1.6rem;
    }

    .hero-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.6);
      background: transparent;
      cursor: pointer;
      padding: 0;
      transition: width 0.25s ease, background 0.25s ease, border-color 0.25s ease, transform 0.25s ease;
    }

    .hero-dot.active {
      width: 24px;
      background: #fff;
      border-color: transparent;
      transform: translateY(-1px);
    }

    /* Imagem livre flutuando */
    .slide-right {
      position: relative;
      z-index: 2;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .product-3d-shell {
      width: min(480px, 100%);
      aspect-ratio: 1 / 1;
      position: relative;
      perspective: 1400px;
    }

    .product-3d {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transform: rotateX(0deg) rotateY(0deg);
      transition: transform 0.25s ease-out;
    }

    .product-shadow {
      position: absolute;
      inset: auto 10% 6% 10%;
      height: 26%;
      background: radial-gradient(circle at 50% 0, rgba(0,0,0,0.75) 0, transparent 70%);
      filter: blur(3px);
      transform: translateZ(0);
      opacity: 0.95;
    }

    .product-image-stage {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      transform-style: preserve-3d;
    }

    .product-image-stage img {
      position: absolute;
      width: 80%;
      max-height: 90%;
      object-fit: contain;
      border-radius: 40px;
      box-shadow: 0 40px 90px rgba(0,0,0,0.95);
      transform-origin: center;
      top: 50%;
      left: 50%;
      transform: translate3d(-50%, -50%, 120px);
      opacity: 1;
    }

    /* Navegação lateral (desktop) */
    .slider-nav {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      pointer-events: none;
      z-index: 100;
      padding: 0 2rem;
    }

    .slider-nav-btn {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      border: none;
      background: rgba(0,0,0,0.55);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 16px 30px rgba(0,0,0,0.7);
      cursor: pointer;
      pointer-events: auto;
      transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
    }

    .slider-nav-btn:hover {
      transform: translateY(-1px);
      background: rgba(0,0,0,0.75);
      box-shadow: 0 20px 40px rgba(0,0,0,0.85);
    }

    .slider-nav-btn svg {
      width: 18px;
      height: 18px;
    }

    .slider-nav-btn--left { transform: translateX(-10px); }
    .slider-nav-btn--right { transform: translateX(10px); }

    /* Responsivo */
    @media (max-width: 900px) {
      .slide-content {
        grid-template-columns: minmax(0,1fr);
        gap: 2rem;
      }

      .slide-right {
        order: -1;
      }

      .slider-nav {
        display: none;
      }

      .slide-page {
        padding-inline: 1.2rem;
      }
    }

    @media (max-width: 600px) {
      .slide-content {
        gap: 1.8rem;
      }

      .product-3d-shell {
        width: 100%;
        max-width: 360px;
      }

      .hero-title {
        font-size: 1.8rem;
      }

      .hero-actions {
        flex-direction: column;
      }

      .hero-actions .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="slider-wrapper" id="sliderWrapper">
    <div class="slider-track" id="sliderTrack">
      <!-- Páginas serão criadas via JS -->
    </div>
  </div>

  <!-- Navegação fixa -->
  <div class="slider-nav">
    <button class="slider-nav-btn slider-nav-btn--left" data-dir="prev" aria-label="Prato anterior">
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <button class="slider-nav-btn slider-nav-btn--right" data-dir="next" aria-label="Próximo prato">
      <svg viewBox="0 0 24 24" fill="none">
        <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>

  <!-- Container para dots (fixo) -->
  <div style="position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%); z-index: 101;">
    <div class="hero-dots" id="heroDots"></div>
  </div>

<script>
  // Configuração dos slides
  const slides = [
    {
      theme: "theme-0",
      image: "prato.png",
      subtitle: "Segunda-feira · Picadinho da casa",
      title: "Pra começar a semana com conforto",
      desc: "Arroz soltinho, feijão caseiro, picadinho de carne com legumes e salada fresca."
    },
    {
      theme: "theme-1",
      image: "prato1.png",
      subtitle: "Terça-feira · Frango grelhado",
      title: "Leve, saboroso e caprichado",
      desc: "Frango grelhado, arroz, feijão e legumes salteados no ponto certo."
    },
    {
      theme: "theme-2",
      image: "prato2.png",
      subtitle: "Quarta-feira · Feijoada Flor de Sal",
      title: "Clássico de quarta, do seu jeito",
      desc: "Feijoada caseira com acompanhamentos completos pra matar a saudade."
    },
    {
      theme: "theme-3",
      image: "prato3.png",
      subtitle: "Quinta-feira · Parmegiana da casa",
      title: "Queijo gratinado e molho caseiro",
      desc: "Filé à parmegiana com molho da casa, queijo gratinado e acompanhamentos."
    },
    {
      theme: "theme-4",
      image: "prato2.png",
      subtitle: "Sexta-feira · Sexta especial",
      title: "Pra fechar a semana com chave de ouro",
      desc: "Prato especial da semana, pensado para a sua sexta-feira ficar ainda melhor."
    },
    {
      theme: "theme-5",
      image: "roy.png",
      subtitle: "Especial da casa · Roy",
      title: "Visual diferente, mesmo carinho",
      desc: "Uma opção especial para testar novas combinações e apresentar a Flor de Sal com outro visual."
    }
  ];

  const sliderTrack = document.getElementById("sliderTrack");
  const heroDotsContainer = document.getElementById("heroDots");
  const body = document.body;

  // Define CSS variable para total de slides
  document.documentElement.style.setProperty('--total-slides', slides.length);

  let currentIndex = 0;
  let isAnimating = false;

  // Cria os dots
  slides.forEach((_, i) => {
    const dot = document.createElement("button");
    dot.className = "hero-dot" + (i === 0 ? " active" : "");
    dot.type = "button";
    dot.setAttribute("aria-label", "Ir para prato " + (i + 1));
    dot.addEventListener("click", () => goToSlide(i));
    heroDotsContainer.appendChild(dot);
  });

  const dots = Array.from(document.querySelectorAll(".hero-dot"));

  // Cria todas as páginas
  slides.forEach((slide, index) => {
    const page = document.createElement("div");
    page.className = `slide-page ${slide.theme}`;
    page.setAttribute("data-index", index);

    page.innerHTML = `
      <div class="slide-content">
        <div class="slide-left">
          <div class="hero-logo">
            <img src="flor de sal.png" alt="Flor de Sal Delivery" />
          </div>
          <div class="hero-tagline">feito com carinho</div>
          <div class="hero-copy">
            <div class="hero-subtitle">${slide.subtitle}</div>
            <div class="hero-title">${slide.title}</div>
            <p class="hero-desc">${slide.desc}</p>
            <div class="hero-actions">
              <a
                href="https://wa.me/5564981245822"
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-primary"
              >
                Peça este prato
              </a>
              <a
                href="https://wa.me/5564981245822?text=Ol%C3%A1%2C%20gostaria%20de%20falar%20sobre%20um%20evento."
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-secondary"
              >
                Fale sobre seu evento
              </a>
            </div>
            <div class="hero-meta">
              <span>Almoço · 11h às 14h</span>
              <span>Delivery e retirada</span>
            </div>
          </div>
        </div>
        <div class="slide-right">
          <div class="product-3d-shell">
            <div class="product-3d">
              <div class="product-shadow"></div>
              <div class="product-image-stage">
                <img src="${slide.image}" alt="${slide.subtitle}" />
              </div>
            </div>
          </div>
        </div>
      </div>
    `;

    sliderTrack.appendChild(page);

    // Adiciona tilt 3D na imagem
    const productShell = page.querySelector(".product-3d-shell");
    const product3d = page.querySelector(".product-3d");

    productShell.addEventListener("mousemove", (e) => {
      const rect = productShell.getBoundingClientRect();
      const x = (e.clientX - rect.left) / rect.width - 0.5;
      const y = (e.clientY - rect.top) / rect.height - 0.5;

      const rotateY = x * 16;
      const rotateX = -y * 14;

      product3d.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    });

    productShell.addEventListener("mouseleave", () => {
      product3d.style.transform = "rotateX(0deg) rotateY(0deg)";
    });
  });

  // Parallax do logo
  function updateLogoParallax() {
    const pages = document.querySelectorAll(".slide-page");
    pages.forEach((page, index) => {
      if (index === currentIndex) {
        const logo = page.querySelector(".hero-logo");
        if (logo) {
          window.addEventListener("mousemove", (event) => {
            const rect = logo.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            const dx = (event.clientX - centerX) / rect.width;
            const dy = (event.clientY - centerY) / rect.height;
            const x = dx * 10;
            const y = dy * 8;

            const scrollFactor = window.scrollY * 0.03;
            logo.style.transform = `translate3d(${x}px, ${y - scrollFactor}px, 0)`;
          });
        }
      }
    });
  }

  function updateSliderPosition() {
    const offset = -currentIndex * 100;
    sliderTrack.style.transform = `translateX(${offset}vw)`;
  }

  function goToSlide(newIndex) {
    if (isAnimating || newIndex === currentIndex || newIndex < 0 || newIndex >= slides.length) return;
    isAnimating = true;

    const direction = newIndex > currentIndex ? 1 : -1;
    const currentPage = document.querySelector(`.slide-page[data-index="${currentIndex}"]`);
    const nextPage = document.querySelector(`.slide-page[data-index="${newIndex}"]`);
    
    const currentImg = currentPage.querySelector(".product-image-stage img");
    const nextImg = nextPage.querySelector(".product-image-stage img");

    // Prepara posições iniciais
    if (direction > 0) {
      // Indo para frente: foto atual sai para direita, nova vem da esquerda
      currentImg.style.transition = "transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s ease";
      currentImg.style.transform = "translate3d(50%, -50%, 0px)";
      currentImg.style.opacity = "0";

      nextImg.style.transition = "transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s ease";
      nextImg.style.transform = "translate3d(-150%, -50%, 80px)";
      nextImg.style.opacity = "0";
    } else {
      // Indo para trás: foto atual sai para esquerda, nova vem da direita
      currentImg.style.transition = "transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s ease";
      currentImg.style.transform = "translate3d(-150%, -50%, 0px)";
      currentImg.style.opacity = "0";

      nextImg.style.transition = "transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s ease";
      nextImg.style.transform = "translate3d(50%, -50%, 80px)";
      nextImg.style.opacity = "0";
    }
    
    // Força reflow
    void currentImg.offsetWidth;
    void nextImg.offsetWidth;

    // Move a faixa inteira (página inteira desliza)
    currentIndex = newIndex;
    updateSliderPosition();

    // Anima foto nova entrando para o centro
    setTimeout(() => {
      nextImg.style.transform = "translate3d(-50%, -50%, 120px)";
      nextImg.style.opacity = "1";
    }, 50);

    // Atualiza dots
    dots.forEach((d, i) => d.classList.toggle("active", i === currentIndex));

    // Finaliza animação
    setTimeout(() => {
      // Reseta foto atual para próxima vez
      currentImg.style.transform = "translate3d(-50%, -50%, 120px)";
      currentImg.style.opacity = "1";
      currentImg.style.transition = "";
      
      nextImg.style.transition = "";
      
      isAnimating = false;
    }, 800);
  }

  function nextSlide() {
    const next = (currentIndex + 1) % slides.length;
    goToSlide(next);
  }

  function prevSlide() {
    const prev = (currentIndex - 1 + slides.length) % slides.length;
    goToSlide(prev);
  }

  // Botões de navegação
  const prevBtn = document.querySelector('[data-dir="prev"]');
  const nextBtn = document.querySelector('[data-dir="next"]');
  if (prevBtn && nextBtn) {
    prevBtn.addEventListener("click", prevSlide);
    nextBtn.addEventListener("click", nextSlide);
  }

  // Swipe para mobile
  let startX = 0;
  let isTouching = false;

  document.addEventListener("touchstart", (e) => {
    const touch = e.touches[0];
    startX = touch.clientX;
    isTouching = true;
  }, { passive: true });

  document.addEventListener("touchend", (e) => {
    if (!isTouching || isAnimating) return;
    const touch = e.changedTouches[0];
    const deltaX = touch.clientX - startX;
    const threshold = 50;

    if (Math.abs(deltaX) > threshold) {
      if (deltaX < 0) {
        nextSlide();
      } else {
        prevSlide();
      }
    }
    isTouching = false;
  }, { passive: true });

  // Inicialização
  function init() {
    body.classList.add("is-loaded");
    updateSliderPosition();
    updateLogoParallax();
    
    // Garante que todas as imagens começam na posição correta
    const allPages = document.querySelectorAll(".slide-page");
    allPages.forEach((page, index) => {
      const img = page.querySelector(".product-image-stage img");
      if (index === currentIndex) {
        img.style.transform = "translate3d(-50%, -50%, 120px)";
        img.style.opacity = "1";
      } else {
        img.style.transform = "translate3d(-50%, -50%, 120px)";
        img.style.opacity = "1";
      }
    });
  }

  window.addEventListener("load", init);
</script>
</body>
</html>
