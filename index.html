<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Flor de Sal | Delivery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --cor-texto: #fdf7f2;
      --font-base: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-base);
      color: var(--cor-texto);
      min-height: 100vh;
      display: flex;
      align-items: stretch;
      justify-content: center;
      transition: background 0.7s ease;
      overflow-x: hidden;
    }

    /* Um tema de fundo por slide */
    body.theme-0 {
      background: radial-gradient(circle at top left, #ffb088 0, #1d0b0b 40%, #040109 100%);
    }
    body.theme-1 {
      background: radial-gradient(circle at top right, #ffd46b 0, #251108 45%, #05030c 100%);
    }
    body.theme-2 {
      background: radial-gradient(circle at top, #ff9777 0, #1d090a 45%, #05020a 100%);
    }
    body.theme-3 {
      background: radial-gradient(circle at bottom left, #ffc3a0 0, #1b1015 45%, #05030c 100%);
    }
    body.theme-4 {
      background: radial-gradient(circle at bottom right, #ffb86c 0, #1c0d06 45%, #050208 100%);
    }
    body.theme-5 {
      background: radial-gradient(circle at center, #ba8cff 0, #220b3a 40%, #050010 100%);
    }

    main {
      width: min(1200px, 100%);
      padding: 2.4rem 1.6rem 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      min-height: 100vh;
    }

    body.is-loaded main {
      opacity: 1;
      transform: translateY(0);
    }

    .hero {
      width: 100%;
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 2.6rem;
      align-items: center;
      position: relative;
      min-height: 70vh;
    }

    /* Neblina de fundo leve */
    .hero::before,
    .hero::after {
      content: "";
      position: absolute;
      inset: -20%;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,255,255,0.08) 0, transparent 55%),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.04) 0, transparent 60%);
      opacity: 0.6;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .hero::after {
      animation: drift 18s linear infinite alternate;
      opacity: 0.4;
    }

    @keyframes drift {
      0% { transform: translate3d(0,0,0); }
      100% { transform: translate3d(40px,-30px,0); }
    }

    .hero-left {
      position: relative;
      z-index: 2;
    }

    /* H1 visual: logo livre (como você mostrou) */
    .hero-logo {
      width: min(260px, 70vw);
      margin-bottom: 1.2rem;
      transform: translate3d(0,0,0);
      transition: transform 0.4s ease-out;
      will-change: transform;
    }

    .hero-logo img {
      width: 100%;
      display: block;
      filter: drop-shadow(0 18px 32px rgba(0,0,0,0.5));
    }

    .hero-tagline {
      font-size: 0.95rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      opacity: 0.85;
      margin-bottom: 1.4rem;
    }

    .hero-copy {
      transition: transform 0.45s ease, opacity 0.45s ease;
    }

    .hero-subtitle {
      font-size: 1.6rem;
      font-weight: 600;
      margin-bottom: 0.4rem;
    }

    .hero-title {
      font-size: clamp(2rem, 3vw, 2.6rem);
      font-weight: 800;
      text-transform: uppercase;
      margin-bottom: 0.8rem;
    }

    .hero-desc {
      font-size: 0.98rem;
      max-width: 420px;
      opacity: 0.9;
      margin-bottom: 1.8rem;
      line-height: 1.7;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      margin-bottom: 1.3rem;
    }

    .btn {
      border-radius: 999px;
      padding: 0.85rem 1.8rem;
      font-size: 0.95rem;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.45rem;
      cursor: pointer;
      border: none;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      transition: transform 0.22s ease, box-shadow 0.22s ease, background 0.22s ease, color 0.22s ease, border-color 0.22s ease;
      white-space: nowrap;
    }

    .btn-primary {
      background: rgba(255,255,255,0.16);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.7);
      box-shadow: 0 18px 40px rgba(0,0,0,0.6);
    }

    .btn-primary:hover {
      transform: translateY(-1px) scale(1.02);
      background: rgba(255,255,255,0.22);
      box-shadow: 0 22px 48px rgba(0,0,0,0.8);
    }

    .btn-secondary {
      background: rgba(0,0,0,0.35);
      color: #fff6ea;
      border: 1px solid rgba(255,255,255,0.25);
      box-shadow: 0 14px 32px rgba(0,0,0,0.6);
    }

    .btn-secondary:hover {
      transform: translateY(-1px) scale(1.01);
      background: rgba(0,0,0,0.5);
    }

    .hero-meta {
      font-size: 0.85rem;
      opacity: 0.9;
      margin-top: 0.5rem;
    }

    .hero-meta span + span::before {
      content: "•";
      margin: 0 0.45rem;
      opacity: 0.7;
    }

    /* Dots (indicadores de slide) */
    .hero-dots {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      margin-top: 1.6rem;
    }

    .hero-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.6);
      background: transparent;
      cursor: pointer;
      padding: 0;
      transition: width 0.25s ease, background 0.25s ease, border-color 0.25s ease, transform 0.25s ease;
    }

    .hero-dot.active {
      width: 24px;
      background: #fff;
      border-color: transparent;
      transform: translateY(-1px);
    }

    .hero-right {
      position: relative;
      z-index: 2;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* IMAGEM 3D LIVRE (sem card, só a foto flutuando) */

    .product-3d-shell {
      width: min(480px, 100%);
      aspect-ratio: 1 / 1;
      position: relative;
      perspective: 1400px;
    }

    .product-3d {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transform: rotateX(0deg) rotateY(0deg);
      transition: transform 0.25s ease-out;
    }

    .product-shadow {
      position: absolute;
      inset: auto 10% 6% 10%;
      height: 26%;
      background: radial-gradient(circle at 50% 0, rgba(0,0,0,0.75) 0, transparent 70%);
      filter: blur(3px);
      transform: translateZ(0);
      opacity: 0.95;
    }

    .product-image-stage {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      transform-style: preserve-3d;
    }

    .product-image-stage img {
      position: absolute;
      width: 80%;
      max-height: 90%;
      object-fit: contain;
      border-radius: 40px;
      box-shadow: 0 40px 90px rgba(0,0,0,0.95);
      transform-origin: center;
      opacity: 0;
      transform: translate3d(-50%, -50%, 120px);
      top: 50%;
      left: 50%;
      transition: transform 0.5s ease, opacity 0.5s ease;
    }

    .product-image-stage img.visible {
      opacity: 1;
    }

    /* Navegação lateral (desktop) */
    .hero-nav {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      pointer-events: none;
    }

    .hero-nav-btn {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      border: none;
      background: rgba(0,0,0,0.55);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 16px 30px rgba(0,0,0,0.7);
      cursor: pointer;
      pointer-events: auto;
      transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
    }

    .hero-nav-btn:hover {
      transform: translateY(-1px);
      background: rgba(0,0,0,0.75);
      box-shadow: 0 20px 40px rgba(0,0,0,0.85);
    }

    .hero-nav-btn svg {
      width: 18px;
      height: 18px;
    }

    .hero-nav-btn--left { transform: translateX(-10px); }
    .hero-nav-btn--right { transform: translateX(10px); }

    /* Responsivo */
    @media (max-width: 900px) {
      .hero {
        grid-template-columns: minmax(0,1fr);
        gap: 2rem;
      }

      .hero-right {
        order: -1;
      }

      .hero-nav {
        display: none; /* mobile usa swipe */
      }

      main {
        padding-inline: 1.2rem;
      }
    }

    @media (max-width: 600px) {
      .hero {
        gap: 1.8rem;
      }

      .product-3d-shell {
        width: 100%;
        max-width: 360px;
      }

      .hero-title {
        font-size: 1.8rem;
      }

      .hero-actions {
        flex-direction: column;
      }

      .hero-actions .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body class="theme-0">
<main>
  <section class="hero" id="heroSlider">
    <div class="hero-left">
      <!-- H1 visual: logo -->
      <div class="hero-logo" id="heroLogo">
        <img src="flor de sal.png" alt="Flor de Sal Delivery" />
      </div>

      <div class="hero-tagline">feito com carinho</div>

      <div class="hero-copy" id="heroCopy">
        <div class="hero-subtitle" id="slideSubtitle">Segunda-feira · Picadinho da casa</div>
        <div class="hero-title" id="slideTitle">Pra começar a semana com conforto</div>

        <p class="hero-desc" id="slideDesc">
          Arroz soltinho, feijão caseiro, picadinho de carne com legumes e salada fresca.
        </p>

        <div class="hero-actions">
          <a
            href="https://wa.me/5564981245822"
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary"
          >
            Peça este prato
          </a>
          <a
            href="https://wa.me/5564981245822?text=Ol%C3%A1%2C%20gostaria%20de%20falar%20sobre%20um%20evento."
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-secondary"
          >
            Fale sobre seu evento
          </a>
        </div>

        <div class="hero-meta">
          <span>Almoço · 11h às 14h</span>
          <span>Delivery e retirada</span>
        </div>
      </div>

      <div class="hero-dots" id="heroDots">
        <!-- preenchido via JS -->
      </div>
    </div>

    <div class="hero-right">
      <div class="product-3d-shell" id="productShell">
        <div class="product-3d" id="product3d">
          <div class="product-shadow"></div>
          <div class="product-image-stage" id="productImageStage">
            <img id="currentImage" class="visible" src="prato.png" alt="Prato Flor de Sal" />
            <img id="nextImage" src="prato1.png" alt="" />
          </div>
        </div>
      </div>
    </div>

    <!-- Navegação lateral (desktop) -->
    <div class="hero-nav">
      <button class="hero-nav-btn hero-nav-btn--left" data-dir="prev" aria-label="Prato anterior">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <button class="hero-nav-btn hero-nav-btn--right" data-dir="next" aria-label="Próximo prato">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </section>
</main>

<script>
  // Configuração dos slides (inclui roy.png)
  const slides = [
    {
      theme: "theme-0",
      image: "prato.png",
      subtitle: "Segunda-feira · Picadinho da casa",
      title: "Pra começar a semana com conforto",
      desc: "Arroz soltinho, feijão caseiro, picadinho de carne com legumes e salada fresca."
    },
    {
      theme: "theme-1",
      image: "prato1.png",
      subtitle: "Terça-feira · Frango grelhado",
      title: "Leve, saboroso e caprichado",
      desc: "Frango grelhado, arroz, feijão e legumes salteados no ponto certo."
    },
    {
      theme: "theme-2",
      image: "prato2.png",
      subtitle: "Quarta-feira · Feijoada Flor de Sal",
      title: "Clássico de quarta, do seu jeito",
      desc: "Feijoada caseira com acompanhamentos completos pra matar a saudade."
    },
    {
      theme: "theme-3",
      image: "prato3.png",
      subtitle: "Quinta-feira · Parmegiana da casa",
      title: "Queijo gratinado e molho caseiro",
      desc: "Filé à parmegiana com molho da casa, queijo gratinado e acompanhamentos."
    },
    {
      theme: "theme-4",
      image: "prato2.png",
      subtitle: "Sexta-feira · Sexta especial",
      title: "Pra fechar a semana com chave de ouro",
      desc: "Prato especial da semana, pensado para a sua sexta-feira ficar ainda melhor."
    },
    {
      theme: "theme-5",
      image: "roy.png",
      subtitle: "Especial da casa · Roy",
      title: "Visual diferente, mesmo carinho",
      desc: "Uma opção especial para testar novas combinações e apresentar a Flor de Sal com outro visual."
    }
  ];

  const body = document.body;
  const subtitleEl = document.getElementById("slideSubtitle");
  const titleEl = document.getElementById("slideTitle");
  const descEl = document.getElementById("slideDesc");
  const heroCopy = document.getElementById("heroCopy");
  const heroDotsContainer = document.getElementById("heroDots");
  const heroLogo = document.getElementById("heroLogo");
  const productShell = document.getElementById("productShell");
  const product3d = document.getElementById("product3d");
  const heroSlider = document.getElementById("heroSlider");

  const currentImage = document.getElementById("currentImage");
  const nextImage = document.getElementById("nextImage");

  let currentIndex = 0;
  let isAnimating = false;
  const animationDuration = 500; // ms

  // Cria os dots do slider
  slides.forEach((_, i) => {
    const dot = document.createElement("button");
    dot.className = "hero-dot" + (i === 0 ? " active" : "");
    dot.type = "button";
    dot.setAttribute("aria-label", "Ir para prato " + (i + 1));
    dot.addEventListener("click", () => goToSlide(i));
    heroDotsContainer.appendChild(dot);
  });

  const dots = Array.from(document.querySelectorAll(".hero-dot"));

  function setBodyTheme(theme) {
    // remove todos os temas anteriores
    slides.forEach(s => body.classList.remove(s.theme));
    body.classList.add(theme);
  }

  function updateTexts(slide) {
    subtitleEl.textContent = slide.subtitle;
    titleEl.textContent = slide.title;
    descEl.textContent = slide.desc;
  }

  function goToSlide(newIndex) {
    if (isAnimating || newIndex === currentIndex || newIndex < 0 || newIndex >= slides.length) return;
    isAnimating = true;

    const slide = slides[newIndex];

    // Atualiza fundo imediatamente para acompanhar a troca
    setBodyTheme(slide.theme);

    // Anima texto: primeiro sai para a direita
    heroCopy.style.transform = "translateX(40px)";
    heroCopy.style.opacity = "0";

    // Prepara imagem de entrada (vem da esquerda)
    nextImage.src = slide.image;
    nextImage.alt = slide.subtitle;

    // posição inicial das imagens:
    // imagem atual: centro -> vai pra direita
    currentImage.classList.add("visible");
    currentImage.style.transform = "translate3d(-50%, -50%, 120px)";
    currentImage.style.opacity = "1";

    nextImage.classList.add("visible");
    nextImage.style.transform = "translate3d(-150%, -50%, 80px)";
    nextImage.style.opacity = "0";

    // força reflow para as transições dispararem
    void nextImage.offsetWidth;

    // Animações: foto antiga sai pra direita, nova entra da esquerda
    currentImage.style.transform = "translate3d(50%, -50%, 0px)";
    currentImage.style.opacity = "0";

    nextImage.style.transform = "translate3d(-50%, -50%, 120px)";
    nextImage.style.opacity = "1";

    // No meio da animação, troca textos e reseta posição da cópia
    setTimeout(() => {
      updateTexts(slide);

      // texto entra da direita para o centro
      heroCopy.style.transform = "translateX(-40px)";
      // força reflow
      void heroCopy.offsetWidth;
      heroCopy.style.transform = "translateX(0)";
      heroCopy.style.opacity = "1";
    }, animationDuration * 0.4);

    // Finaliza animação
    setTimeout(() => {
      // coloca a nova imagem como "current"
      currentImage.src = slide.image;
      currentImage.alt = slide.subtitle;
      currentImage.style.transform = "translate3d(-50%, -50%, 120px)";
      currentImage.style.opacity = "1";

      // esconde a imagem auxiliar
      nextImage.classList.remove("visible");
      nextImage.style.opacity = "0";

      currentIndex = newIndex;
      dots.forEach((d, i) => d.classList.toggle("active", i === currentIndex));
      isAnimating = false;
    }, animationDuration);
  }

  function nextSlide() {
    const next = (currentIndex + 1) % slides.length;
    goToSlide(next);
  }

  function prevSlide() {
    const prev = (currentIndex - 1 + slides.length) % slides.length;
    goToSlide(prev);
  }

  // Botões laterais (desktop)
  const prevBtn = document.querySelector('[data-dir="prev"]');
  const nextBtn = document.querySelector('[data-dir="next"]');
  if (prevBtn && nextBtn) {
    prevBtn.addEventListener("click", prevSlide);
    nextBtn.addEventListener("click", nextSlide);
  }

  // Parallax suave do logo
  function updateLogoParallax(event) {
    const rect = heroLogo.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;

    let x = 0;
    let y = 0;

    if (event && event.type === "mousemove") {
      const dx = (event.clientX - centerX) / rect.width;
      const dy = (event.clientY - centerY) / rect.height;
      x = dx * 10;
      y = dy * 8;
    }

    const scrollFactor = window.scrollY * 0.03;
    heroLogo.style.transform = `translate3d(${x}px, ${y - scrollFactor}px, 0)`;
  }

  window.addEventListener("mousemove", updateLogoParallax);
  window.addEventListener("scroll", () => updateLogoParallax());

  // Tilt 3D da imagem (sem card)
  productShell.addEventListener("mousemove", (e) => {
    const rect = productShell.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width - 0.5;
    const y = (e.clientY - rect.top) / rect.height - 0.5;

    const rotateY = x * 16;
    const rotateX = -y * 14;

    product3d.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
  });

  productShell.addEventListener("mouseleave", () => {
    product3d.style.transform = "rotateX(0deg) rotateY(0deg)";
  });

  // Swipe (touch) para mobile – sempre anima da mesma forma
  let startX = 0;
  let isTouching = false;

  heroSlider.addEventListener("touchstart", (e) => {
    const touch = e.touches[0];
    startX = touch.clientX;
    isTouching = true;
  }, { passive: true });

  heroSlider.addEventListener("touchend", (e) => {
    if (!isTouching) return;
    const touch = e.changedTouches[0];
    const deltaX = touch.clientX - startX;
    const threshold = 50; // pixels

    if (Math.abs(deltaX) > threshold) {
      if (deltaX < 0) {
        nextSlide();
      } else {
        prevSlide();
      }
    }
    isTouching = false;
  }, { passive: true });

  // Inicialização
  function init() {
    body.classList.add("is-loaded");
    setBodyTheme(slides[0].theme);
    // garante texto correto do primeiro slide
    updateTexts(slides[0]);
    currentImage.src = slides[0].image;
    currentImage.alt = slides[0].subtitle;
    currentImage.classList.add("visible");
  }

  window.addEventListener("load", init);
</script>
</body>
</html>
